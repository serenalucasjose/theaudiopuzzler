(window.webpackJsonp=window.webpackJsonp||[]).push([[9,5],{428:function(e,t,r){var content=r(446);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(17).default)("081f3dd0",content,!0,{sourceMap:!1})},429:function(e,t,r){var content=r(448);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(17).default)("3c830502",content,!0,{sourceMap:!1})},445:function(e,t,r){"use strict";r(428)},446:function(e,t,r){var n=r(16)(!1);n.push([e.i,".v-list-group__header{display:flex;flex-direction:row;justify-content:space-between;align-items:center}",""]),e.exports=n},447:function(e,t,r){"use strict";r(429)},448:function(e,t,r){var n=r(16)(!1);n.push([e.i,"#audio-playground{width:100%;position:relative}#audio-playground .canvas-wrapper>div,#audio-playground .speech-wrapper div{display:flex;flex-direction:row;grid-gap:1rem;gap:1rem;flex-wrap:wrap;justify-content:flex-start;align-items:center}#audio-playground .speech-wrapper div{width:100%;height:100%}#speech-waveform wave{width:100%!important}.region-card{position:relative;overflow:hidden}.region-card canvas{position:relative;z-index:1}.region-card .tag-overlay{position:absolute;z-index:2;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:1.5rem;color:#fff}.sortable-ghost{display:none!important}",""]),e.exports=n},476:function(e,t,r){"use strict";r.r(t);var n=r(412),o=r(269),c=r(530),l=r(505),f=r(420),d=r(48),h=(r(43),r(3),r(38),r(57),r(50),r(36),r(9),r(58),r(62),r(51),r(29)),v=(r(37),r(92),r(474)),m=r.n(v),w=r(475),x=r.n(w),y=r(436),C=r.n(y);function _(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var S={mixins:[{computed:{isMobile:function(){return"xs"===this.$vuetify.breakpoint.name||"sm"===this.$vuetify.breakpoint.name},isMobileOrTablet:function(){return"xs"===this.$vuetify.breakpoint.name||"sm"===this.$vuetify.breakpoint.name||"md"===this.$vuetify.breakpoint.name},isXl:function(){return"xl"===this.$vuetify.breakpoint.name},isLgOrXl:function(){return"lg"===this.$vuetify.breakpoint.name||"xl"===this.$vuetify.breakpoint.name}}}],props:{chunks:{type:Array,default:function(){return[]}},audioCtx:{type:AudioContext,required:!0}},components:{draggable:x.a},data:function(){return{wavesurferInstances:[],speechChunks:[],drag:!1,speechBuffer:null,wavesurfer:null,playingRegion:!1,currentSource:null}},computed:{canvasSize:function(){return this.isMobile?"40px":"80px"}},mounted:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:e.initSoundwaves(),e.initWavesurfer(),e.initSpeech();case 5:case"end":return t.stop()}}),t)})))()},beforeDestroy:function(){this.$emit("setSpeechBuffer",{buffer:C.a.clone(this.wavesurfer.backend.buffer)}),this.$destroyWavesurferInstance(this.wavesurfer)},methods:{initSoundwaves:function(){var e=this;return Object(h.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,l,f,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:n=_(e.chunks);try{for(n.s();!(o=n.n()).done;)c=o.value,l="#audio-chunk-".concat(c.regionAsSubBuffer.length),m.a.canvas(document.querySelector(l),c.regionAsSubBuffer,"#999999")}catch(e){n.e(e)}finally{n.f()}f=null===(r=e.$refs)||void 0===r?void 0:r.regionsWrapper,d=f.clientHeight,f.style.height="".concat(d,"px");case 7:case"end":return t.stop()}}),t)})))()},initWavesurfer:function(){this.wavesurfer=this.$createWavesurferInstance({container:"#speech-waveform",audioContext:this.audioCtx,interact:!0,scrollParent:!0}),this.$tearupWavesurferControls(this.wavesurfer)},playRegion:function(e){var t=this;this.playingRegion&&this.currentSource.stop(),this.playingRegion=!0,this.currentSource=this.audioCtx.createBufferSource(),this.currentSource.buffer=e,this.currentSource.connect(this.audioCtx.destination),this.currentSource.start(),this.currentSource.onended=function(){t.playingRegion=!1}},updateSpeech:function(e){var t=e.added.element,r=t.region,n=t.regionAsSubBuffer,o=C.a.clone(this.wavesurfer.backend.buffer),c=C.a.concat(o,n);this.wavesurfer.loadDecodedBuffer(c),this.wavesurfer.drawBuffer(),r.wavesurfer=this.wavesurfer,r.start=o.duration,r.end=c.duration,r.color="hsla(200, 50%, 70%, 0.4)",this.wavesurfer.stop()},initSpeech:function(){this.wavesurfer.clearRegions(),this.wavesurfer.loadDecodedBuffer(C.a.create(1))}}},A=(r(447),r(91)),component=Object(A.a)(S,(function(){var e=this,t=e._self._c;return t(f.a,{staticClass:"pa-0",attrs:{id:"audio-playground"}},[t(n.a,{staticClass:"text-left mb-4",attrs:{icon:"mdi-gesture-swipe-down",rounded:"",color:"info"}},[t("h4",{staticClass:"text--h4 font-weight-regular"},[e._v("Drag'n drop clips")])]),e._v(" "),t("div",{ref:"regionsWrapper",staticClass:"canvas-wrapper mb-4"},[t("draggable",{attrs:{group:{name:"chunks",pull:"clone",put:!1},list:e.chunks,draggable:".region-card"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}}},e._l(e.chunks,(function(r,i){return t(l.a,{key:i,staticClass:"pa-2 region-card",attrs:{elevation:"2",color:"white",ripple:""},on:{click:function(t){return e.playRegion(r.regionAsSubBuffer)}}},[t("div",{staticClass:"tag-overlay"},[e._v("\n          "+e._s(r.region.data.tag)+"  \n        ")]),e._v(" "),t("canvas",{attrs:{id:"audio-chunk-".concat(r.regionAsSubBuffer.length),width:e.canvasSize,height:e.canvasSize}})])})),1)],1),e._v(" "),t("div",{staticClass:"speech-wrapper"},[t("draggable",{attrs:{list:e.speechChunks,group:"chunks",draggable:".region-card"},on:{change:e.updateSpeech}},[t(d.a,{staticClass:"mb-4",attrs:{color:"transparent",rounded:!0,elevation:"0",height:"150px",width:"100%"}},[t("div",{staticClass:"scroll--simple",attrs:{id:"speech-waveform"}})])],1),e._v(" "),t(c.a,{attrs:{group:""}},[t(o.a,{staticClass:"ml-auto",attrs:{color:"secondary",text:"",value:"left",xSmall:""},on:{click:function(t){return e.wavesurfer.play()}}},[e._v("\n        Preview\n      ")]),e._v(" "),t(o.a,{attrs:{value:"center",color:"error",text:"",xSmall:""},on:{click:e.initSpeech}},[e._v("\n        Clear\n      ")])],1)],1),e._v(" "),e._t("actions")],2)}),[],!1,null,null,null);t.default=component.exports},477:function(e,t,r){"use strict";r.r(t);var n=r(412),o=r(505),c=r(420),l=r(528),f={data:function(){return{rules:[function(e){return!e||e.size<5e6||"File size should be less than 5 MB!"}]}}},d=r(91),component=Object(d.a)(f,(function(){var e=this,t=e._self._c;return t(c.a,{staticClass:"pa-0"},[t(n.a,{staticClass:"text-left mb-4",attrs:{icon:"mdi-upload",rounded:"",color:"info"}},[t("h4",{staticClass:"text--h4 font-weight-regular"},[e._v("Upload an audio track from your computer")])]),e._v(" "),t(o.a,{staticClass:"mb-12 pa-8 d-flex justify-center align-center fill-height",attrs:{width:"100%"}},[t(l.a,{attrs:{rules:e.rules,accept:"audio/*",placeholder:"Choose and audio file...","prepend-icon":"mdi-speaker",label:"Audio File"},on:{change:function(t){e.$emit("fileSelected",t)}}})],1)],1)}),[],!1,null,null,null);t.default=component.exports},478:function(e,t,r){"use strict";r.r(t);var n=r(412),o=r(505),c=r(420),l=r(189),f=r(430),d=r(402),h=r(270),v=r(427),m=r(422),w={data:function(){return{open:!1,items:[{text:"Drag - Create",icon:"mdi-gesture-swipe-horizontal"},{text:"Click - Play (loop)",icon:"mdi-mouse"},{text:"Dbl Click - Name",icon:"mdi-cursor-default-click"}]}}},x=(r(445),r(91)),component=Object(x.a)(w,(function(){var e=this,t=e._self._c;return t(c.a,{staticClass:"pa-0"},[t(n.a,{staticClass:"text-left mb-4",attrs:{rounded:"",color:"info"}},[t(f.a,{attrs:{dense:"",color:"info"},scopedSlots:e._u([{key:"activator",fn:function(){return[t(h.b,{staticClass:"text--h4 font-weight-regular"},[e._v("Create clips")])]},proxy:!0}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[e._v(" "),t(v.a,{attrs:{color:"primary"}},e._l(e.items,(function(r,i){return t(d.a,{key:i},[t(m.a,{staticClass:"mb-0"},[t(l.a,{attrs:{small:""},domProps:{textContent:e._s(r.icon)}})],1),e._v(" "),t(h.a,{staticClass:"pa-0"},[t(h.b,{staticClass:"font-weight-light",domProps:{textContent:e._s(r.text)}})],1)],1)})),1)],1)],1),e._v(" "),t(o.a,{directives:[{name:"show",rawName:"v-show",value:!e.open,expression:"!open"}],staticClass:"mb-4 pa-4 justify-center align-center",class:{"d-flex":!e.open},attrs:{width:"100%"}},[t("div",{staticClass:"flex-grow-1 scroll--simple",attrs:{id:"waveform"}})]),e._v(" "),e._t("actions")],2)}),[],!1,null,null,null);t.default=component.exports},479:function(e,t,r){"use strict";r.r(t);var n=r(412),o=r(269),c=r(420),l=r(449),f=r(450),d=r.n(f),h={props:{buffer:{type:AudioBuffer}},methods:{getBufferAsBlob:function(){var e=d()(this.buffer);return new Blob([e],{type:"audio/wav"})},download:function(){Object(l.saveAs)(this.getBufferAsBlob(),"Result - TheAudioPuzzler.wav")}}},v=r(91),component=Object(v.a)(h,(function(){var e=this,t=e._self._c;return t(c.a,{staticClass:"pa-0"},[t(n.a,{scopedSlots:e._u([{key:"actions",fn:function(){return[t("div",{staticClass:"d-flex justify-space-between align-center ma-0"},[t(o.a,{attrs:{text:"",color:"secondary",small:""},on:{click:function(t){return e.$emit("startOver")}}},[e._v("\n          Go again\n        ")]),e._v(" "),t(o.a,{attrs:{color:"primary",large:"",text:""},on:{click:e.download}},[e._v("\n          Download\n        ")])],1)]},proxy:!0}])},[t("div",{staticClass:"px-0 py-6"},[t("p",{staticClass:"text--caption mb-2"},[e._v("\n        Thanks for using the software, see you soon ;)\n      ")])])])],1)}),[],!1,null,null,null);t.default=component.exports},529:function(e,t,r){"use strict";r.r(t);var n=r(269),o=r(526),c=r(527),l=r(426),f=r(525),d=r(465),h=r(466),v=r(425),m=r(467),w=r(29),x=(r(43),r(92),r(436)),y=r.n(x),C={data:function(){return{audioCtx:null,wavesurfer:null,audioChunks:[],e1:1,speechBuffer:null,uploadedFile:null,processingAudio:!1}},methods:{onFileSelected:function(e){var t=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",!1);case 2:return t.processingAudio=!0,t.audioCtx=new(window.AudioContext||window.webkitAudioContext),t.wavesurfer=t.$createWavesurferInstance({container:"#waveform",audioContext:t.audioCtx,interact:!0,scrollParent:!0}),t.wavesurfer.loadBlob(e),r.next=9,t.$tearupWavesurferControls(t.wavesurfer);case 9:t.processingAudio=!1,t.e1+=1;case 11:case"end":return r.stop()}}),r)})))()},prepareAudioChunks:function(){this.processingAudio=!0;var e=this.wavesurfer.regions.list,t=y.a.clone(this.wavesurfer.backend.buffer);for(var r in e){var n=e[r],o=n.start,c=n.end,l=y.a.slice(t,o*t.sampleRate,c*t.sampleRate);this.audioChunks.push({regionAsSubBuffer:l,region:e[r]})}return this.processingAudio=!1,this.e1+=1,0},onSetSpeechBuffer:function(e){var t=e.buffer;this.processingAudio=!0,this.speechBuffer=t,this.processingAudio=!1},onStartOver:function(){this.$destroyWavesurferInstance(this.wavesurfer),Object.assign(this.$data,{audioCtx:null,wavesurfer:null,audioChunks:[],e1:1,speechBuffer:null,uploadedFile:null,processingAudio:!1}),this.audioCtx=new(window.AudioContext||window.webkitAudioContext)}}},_=r(91),component=Object(_.a)(C,(function(){var e=this,t=e._self._c;return t(f.a,{staticClass:"fill-height",attrs:{justify:"center",align:"center"}},[t(o.a,{staticClass:"fill-height",attrs:{cols:"12"}},[t(d.a,{staticClass:"w-full fill-height mb-4",attrs:{height:"auto"},model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[t(v.a,[t(m.a,{attrs:{complete:e.e1>1,step:"1"}},[e._v(" Upload ")]),e._v(" "),t(c.a),e._v(" "),t(m.a,{attrs:{complete:e.e1>2,step:"2"}},[e._v(" Cut ")]),e._v(" "),t(c.a),e._v(" "),t(m.a,{attrs:{complete:e.e1>3,step:"3"}},[e._v(" Reorder ")]),e._v(" "),t(c.a),e._v(" "),t(m.a,{attrs:{step:"4"}},[e._v(" Export & Share ")])],1),e._v(" "),t(v.b,[t(h.a,{attrs:{step:"1"}},[e.processingAudio?t(l.a,{staticClass:"pb-2",attrs:{indeterminate:"",color:"info"}}):t("StepUpload",{on:{fileSelected:e.onFileSelected}})],1),e._v(" "),t(h.a,{attrs:{step:"2"}},[t("StepRegions",{directives:[{name:"show",rawName:"v-show",value:!e.processingAudio,expression:"!processingAudio"}],scopedSlots:e._u([{key:"actions",fn:function(){return[t("div",{staticClass:"d-flex justify-end align-center"},[t(n.a,{attrs:{text:"",color:"alert",small:"",exact:""},on:{click:e.onStartOver}},[e._v("\n                  Back\n                ")]),e._v(" "),t(n.a,{attrs:{color:"primary",text:"",small:""},on:{click:function(t){e.prepareAudioChunks(),e.$destroyWavesurferInstance(e.wavesurfer)}}},[e._v("\n                  Continue\n                ")])],1)]},proxy:!0}])}),e._v(" "),t(l.a,{directives:[{name:"show",rawName:"v-show",value:e.processingAudio,expression:"processingAudio"}],staticClass:"pb-2",attrs:{indeterminate:"",color:"info"}})],1),e._v(" "),t(h.a,{attrs:{step:"3"}},[e.audioChunks.length>0&&3==e.e1&&!e.processingAudio?t("StepPlayground",{attrs:{chunks:e.audioChunks,audioCtx:e.audioCtx},on:{setSpeechBuffer:e.onSetSpeechBuffer},scopedSlots:e._u([{key:"actions",fn:function(){return[t("div",{staticClass:"d-flex justify-end align-center pt-8"},[t(n.a,{attrs:{text:"",color:"alert",small:""},on:{click:e.onStartOver}},[e._v("\n                  Back\n                ")]),e._v(" "),t(n.a,{attrs:{color:"primary",text:"",small:""},on:{click:function(t){e.e1+=1}}},[e._v("\n                  Continue\n                ")])],1)]},proxy:!0}],null,!1,1765639949)}):t(l.a,{staticClass:"pb-2",attrs:{indeterminate:"",color:"info"}})],1),e._v(" "),t(h.a,{attrs:{step:"4"}},[e.speechBuffer?t("StepShareAndExport",{attrs:{buffer:e.speechBuffer},on:{startOver:e.onStartOver}}):e._e()],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{StepUpload:r(477).default,StepRegions:r(478).default,StepPlayground:r(476).default,StepShareAndExport:r(479).default})}}]);